<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Private Class - Data Engineer 365</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      height: 100vh;
    }
    .sidebar {
      width: 350px;
      background: #f9f9f9;
      padding: 20px;
      overflow-y: auto;
      border-right: 1px solid #ddd;
    }
    .content {
      flex: 1;
      padding: 20px;
      background: #fff;
      overflow-y: auto;
      position: relative;
    }
    .lesson {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 6px;
      background: #fff;
      cursor: pointer;
    }
    .lesson:hover { background: #f3f3f3; }
    .lesson-title { font-weight: bold; margin-bottom: 4px; }
    .lesson-time { font-size: 14px; color: #555; }
    iframe { width: 100%; height: 600px; border: none; }
    .fullscreen-btn {
      position: absolute; top: 20px; right: 20px;
      padding: 8px 14px; background: #007bff; color: #fff;
      border: none; border-radius: 6px; cursor: pointer;
    }
    .fullscreen-btn:hover { background: #0056b3; }

    /* Quiz Styles */
    .quiz-container { max-width: 700px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0px 2px 10px rgba(0,0,0,0.1); }
    .note { color: #555; font-size: 14px; margin-bottom: 10px; font-style: italic; }
    .option { display: flex; align-items: center; gap: 10px; padding: 10px; margin: 8px 0; border: 2px solid #ccc; border-radius: 6px; cursor: pointer; transition: 0.2s; }
    .option:hover { background: #f0f0f0; }
    .correct { border-color: green !important; background: #eaffea; }
    .wrong { border-color: red !important; background: #ffeaea; }
    .buttons { margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap; }
    button { padding: 8px 14px; border: none; border-radius: 5px; cursor: pointer; color: white; }
    .main-btn { background: #007bff; }
    .skip { background: #6c757d; }
    .result { margin-top: 20px; padding: 15px; border-radius: 10px; font-weight: bold; display: none; }
    .result.success { background: #22c55e; color: white; }
    .result.error { background: #ef4444; color: white; }
    .options { display: inline-block; margin: 10px 0; padding: 10px 15px; border: 2px solid #cbd5e1; border-radius: 10px; background: white; color: black; cursor: grab; }
    .options.correct { border-color: #22c55e; }
    .options.incorrect { border-color: #ef4444; }
    .container { display: flex; justify-content: space-around; gap: 20px; }
    .box { background: #1e293b; color: white; padding: 20px; border-radius: 12px; width: 40%; min-height: 200px; }
    .box h3 { margin-bottom: 15px; }
  </style>
</head>
<body>
<div class="sidebar">
  <h3>üìò Introduction to Databases, SQL, and MySQL</h3>
  <div id="lessons"></div>
</div>

<div class="content" id="lessonContent"></div>

<script>
  const lessons = [
    {
      type: "video",
      title: "Welcome to SQL",
      time: "03:59",
      file: "https://drive.google.com/file/d/1MmbU6UZayFXQFBNzfzuPg920mxyJ4pQ9/preview"
    },
    {
      type: "video",
      title: "Why SQL?",
      time: "03:17",
      file: "https://drive.google.com/file/d/1hf-V9tKuwTiq0dAm0mzlsMyGHV-4_k2h/preview"
    },
    {
      type: "exercise",
      title: "Exercise",
      time: "3 questions"
    },
    {
      type: "video",
      title: "Why MySQL?",
      time: "01:57",
      file: "https://drive.google.com/file/d/1RFnMy1R9yhhR2HKRamoZ0LnDujgQjmjQ/preview"
    }
  ];

  const lessonsContainer=document.getElementById("lessons");
  const lessonContent=document.getElementById("lessonContent");

  lessons.forEach((lesson,i)=>{
    const div=document.createElement("div");
    div.className="lesson";
    div.onclick=()=>loadLesson(i);
    div.innerHTML=`<div>
      <div class="lesson-title">‚úî ${lesson.title}</div>
      <div class="lesson-time">${lesson.type==="exercise" ? `üìå ${lesson.time}` : `‚ñ∂ Lesson - ${lesson.time} min`}</div>
    </div>`;
    lessonsContainer.appendChild(div);
  });

  function loadLesson(i){
    const l=lessons[i];
    if(l.type==="video"){
      lessonContent.innerHTML=`<h2>${l.title}</h2>
      <iframe id="videoFrame" src="${l.file}" allow="autoplay; fullscreen"></iframe>
      <button class="fullscreen-btn" onclick="openFullscreen()">‚õ∂ Fullscreen</button>`;
    } else if(l.type==="exercise"){
      startQuiz();
    }
  }

  function openFullscreen(){
    const iframe=document.getElementById("videoFrame");
    if(iframe.requestFullscreen) iframe.requestFullscreen();
  }

  // QUIZ SECTION
  const questions=[
    {
      type:"dragdrop",
      text:"Categorize the following SQL characteristics into 'True' or 'False'.",
      options:[
        {text:"Writing SQL queries is referred to as 'querying the database.'",answer:"true"},
        {text:"SQL is used for creating, manipulating, and sharing data.",answer:"true"},
        {text:"SQL is only useful for small datasets.",answer:"false"},
        {text:"SQL is only useful for web developers.",answer:"false"}
      ]
    },
    {
      type:"checkbox",
      text:"Which of the following statements about SQL are true?",
      options:[
        {text:"SQL stands for Structured Query Language.",correct:true},
        {text:"SQL is specifically designed for relational databases.",correct:true},
        {text:"SQL is only used for creating web pages.",correct:false},
        {text:"SQL is easy to learn but powerful.",correct:true},
        {text:"SQL cannot be used for manipulating data.",correct:false}
      ],
      multiple:true,
      note:"Please select more than one option"
    },
    {
      type:"radio",
      text:"Fill in the blanks: A query is a piece of ____ instructing the computer to execute a certain operation that will deliver ___________.",
      options:[
        {text:"Code; the desired output",correct:true},
        {text:"Text; a database schema",correct:false},
        {text:"Code; a database schema",correct:false},
        {text:"Text; the desired output",correct:false}
      ],
      multiple:false
    }
  ];

  let currentQ=0,selected=[];

  function startQuiz(){
    lessonContent.innerHTML=`<div id="quizBox" class="quiz-container"></div>`;
    loadQuestion();
  }

  function loadQuestion(){
    const q=questions[currentQ];
    const box=document.getElementById("quizBox");
    box.innerHTML=`<h2>Question ${currentQ+1}/${questions.length}</h2><p>${q.text}</p>`;
    if(q.note) box.innerHTML+=`<p class="note">${q.note}</p>`;
    if(q.type==="dragdrop"){
      box.innerHTML+=`<div class="container">
      <div class="box" id="trueBox"><h3>True</h3></div>
      <div class="box" id="falseBox"><h3>False</h3></div>
    </div>`;
      const optC=document.createElement("div");
      q.options.forEach(o=>{
        const d=document.createElement("div");
        d.className="options"; d.innerText=o.text;
        d.draggable=true; d.dataset.answer=o.answer;
        optC.appendChild(d);
      }); box.appendChild(optC);
    } else {
      const optC=document.createElement("div"); optC.id="options";
      q.options.forEach((opt,i)=>{
        const d=document.createElement("label");
        d.className="option";
        const input=document.createElement("input");
        input.type=q.multiple?"checkbox":"radio"; input.name="option";
        input.value=i; input.onclick=()=>toggleSelect(i,q.multiple);
        d.appendChild(input); d.append(opt.text); optC.appendChild(d);
      }); box.appendChild(optC);
    }
    const btns=document.createElement("div");
    btns.className="buttons";
    btns.innerHTML=`<button class="main-btn" onclick="handleMainButton()">Check</button>
    <button class="skip" onclick="nextQuestion()">Skip</button>`;
    box.appendChild(btns);
    box.appendChild(Object.assign(document.createElement("div"),{id:"resultBox",className:"result"}));
    if(q.type==="dragdrop") initDragDrop();
    selected=[];
  }

  function toggleSelect(i,multi){ if(multi){selected.includes(i)?selected=selected.filter(x=>x!==i):selected.push(i);}else selected=[i]; }

  function handleMainButton(){
    const btn=document.querySelector(".main-btn");
    if(btn.textContent==="Check"){ if(checkAnswer()) btn.textContent="Continue"; }
    else nextQuestion();
  }

  function checkAnswer(){
    const q=questions[currentQ]; let ok=true;
    const res=document.getElementById("resultBox");
    if(q.type==="dragdrop"){
      document.querySelectorAll(".options").forEach(opt=>{
        const p=opt.parentElement.id;
        if((opt.dataset.answer==="true"&&p==="trueBox")||(opt.dataset.answer==="false"&&p==="falseBox"))opt.classList.add("correct");
        else{opt.classList.add("incorrect"); ok=false;}
      });
    } else {
      document.querySelectorAll(".option").forEach((d,i)=>{
        if(selected.includes(i)){ if(q.options[i].correct)d.classList.add("correct"); else{d.classList.add("wrong"); ok=false;} }
        else if(q.options[i].correct&&q.multiple) ok=false;
      });
    }
    res.style.display="block"; res.textContent=ok?"üëç Correct! Continue.":"‚ùå Not quite right! Try again."; res.className="result "+(ok?"success":"error");
    return ok;
  }

  function nextQuestion(){
    if(currentQ<questions.length-1){currentQ++;loadQuestion();}
    else lessonContent.innerHTML="<h3>Exercise Finished ‚úÖ</h3>";
  }

  function initDragDrop(){
    document.querySelectorAll(".options").forEach(opt=>{
      opt.addEventListener("dragstart",e=>{e.dataTransfer.setData("text/plain",opt.innerText);opt.classList.add("dragging");});
      opt.addEventListener("dragend",()=>opt.classList.remove("dragging"));
    });
    ["trueBox","falseBox"].forEach(id=>{
      const b=document.getElementById(id);
      b.addEventListener("dragover",e=>e.preventDefault());
      b.addEventListener("drop",e=>{e.preventDefault();b.appendChild(document.querySelector(".dragging"));});
    });
  }
</script>
</body>
</html>

